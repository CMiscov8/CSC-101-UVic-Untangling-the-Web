<!DOCTYPE html>
<html>
  <head>
    <script
      src="http://maps.googleapis.com/maps/api/js">
    </script>
  </head>

  <body>
    <script>

      var mymap;

      //adding markder to random places for now!
      function placeRandomMarker(offset) {
        var place = new google.maps.LatLng(48.424134+offset, -123.363127+offset);
        var marker = new google.maps.Marker({
          position : place,
          animation : google.maps.Animation.BOUNCE
        });
        marker.setMap(mymap);
      }

      //note this is called by addDomListener, a method associated with google maps below!
      function initialize() {
        //victoria, the center of the universe!
        var myCenter=new google.maps.LatLng(48.424134,-123.363127);
        var mapProp = {
          center: myCenter,
          zoom: 14,
          mapTypeId:google.maps.MapTypeId.ROADMAP
        };

        mymap = new google.maps.Map(document.getElementById("googleMap"),mapProp);

        //the KML file was modified relative to the one the city posted!
        //this is how you load the routes into a googlemap though!
        var ctaLayer = new google.maps.KmlLayer({
          url: 'https://gist.githubusercontent.com/ycoady/b6086d8c544d1492bfe0/raw/8ae0397529ab285e0e9180c11f77d8f8cd73124c/BikeRoutesVictoria.kml',
          map: mymap
        });
      }

      //here's where the call to initialize actually happens!
      google.maps.event.addDomListener(window, 'load', initialize);

    </script>

    <!-- notice that this HTML element is refered to by the "getElementById" function above! -->
    <div id="googleMap" style="width:700px;height:500px;"></div>
    
    <button type="button" onclick="placeRandomMarker(Math.random()/100)">Make a report!!</button>

  </body>
</html>
